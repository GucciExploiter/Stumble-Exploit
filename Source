#===============================================================
# Script feito por GucciExploiter
# Se estiver tendo plobemas me mande msg no discord

#===============================================================
# [ Redes sociais ]

# Discord: Gucci#2661
# Tiktok: @gucci..mp4
# Github: https://github.com/GucciExploiter
#===============================================================
# 200 == Recompensa recebida!
# 401 == Falha talvez a chave de autenticação expirou ou está errada?
# 403 == Sua conta foi banida do servidor
# 501 == Falhou
#===============================================================


import json
from os import system, name
from time import sleep

global R,B,C,G
R='\033[1;31m'; B='\033[1;34m'; C='\033[1;37m'; G='\033[1;32m'; Y='\033[1;33m'

logo = ('''
█████▀████████████████████████████████████████████▀█████████████
█─▄▄▄▄█▄─██─▄█─▄▄▄─█─▄▄▄─█▄─▄████▀▄─██▄─▀█▄─▄█─▄▄▄▄█▄─▄▄─█▄─▄███
█─██▄─██─██─██─███▀█─███▀██─█████─▀─███─█▄▀─██─██▄─██─▄█▀██─██▀█
▀▄▄▄▄▄▀▀▄▄▄▄▀▀▄▄▄▄▄▀▄▄▄▄▄▀▄▄▄▀▀▀▄▄▀▄▄▀▄▄▄▀▀▄▄▀▄▄▄▄▄▀▄▄▄▄▄▀▄▄▄▄▄▀\n\n================================\n    %sStumble Crowns V 1.2\n\n    Discord: Gucci#2661\n    TikTok: gucci..mp4\n\n https://github.com/GucciExploiter%s\n================================\n'''%(Y,C))

try:
	import requests
except:
	try:
		from sys import executable
		system(executable+' -m pip install requests')
		import requests
	except:
		print('%s[ %s!%s ] Instale manualmente o(s) módulo(s) requests.'%(C,R,C));exit()

def clear(clean) -> None: return system(clean)

def menu():
    clear(clean)

    round = input('%s\n[ %sSelecione o round%s ]\n\n[%s0%s] %sEliminado%s\n[%s1%s] %sround 1%s\n[%s2%s] %sround 2%s\n[%s3%s] %sround 3%s\n\n%s>%s '%(logo,Y,C,G,C,Y,C,G,C,Y,C,G,C,Y,C,G,C,Y,C,B,C))       

    if round == '99' or round == 99:
        exit()

    clear(clean)
    delay = int(input('%s\n[ %sAviso: Delay muito baixo da %sBAN!%s delay minimo: 10%s]\n[ %sColoque o delay%s ]\n\n%s>%s '%(logo,B,R,B,C,Y,C,B,C)))

    if delay < 10:
        clear(clean)
        delay = int(input('%s\n[ %sVoce colocou um delay MUITO BAIXO tem ctz?%s]\n[ %sColoque o delay%s ]\n\n%s>%s '%(logo,R,C,Y,C,B,C)))

    clear(clean)
    auth = input('%s\n[ %sColoque a authorization%s ]\n\n%s>%s '%(logo,Y,C,B,C))

    clear(clean)

    headers = {
        'Accept-Encoding':'gzip, deflate',
        'authorization':auth,
        'Host':'kitkabackend.eastus.cloudapp.azure.com:5010'
    }
    
    print('\n================================ %sStumble Guys requests%s ================================\n> %sDELAY DE %s%s%s SEGUNDO(s)%s\n'%(G,C,G,B,delay,G,C))
    
    try:
        while True:

            request = requests.get('http://kitkabackend.eastus.cloudapp.azure.com:5010/round/finish/' + round, headers=headers)

            #request['Username'],'| Coroas:',request['Crowns'],'| Trofeus:',request['SkillRating'],'| Pais:',request['Country']
            
            if request.status_code == 200:
                request = json.loads(request.text)
                request = request['User']
                print('[%sNickname:%s %s | %sCoroas:%s %s | %sTrofeus:%s %s | %sPais:%s %s]'%(Y,C,request['Username'],Y,C,request['Crowns'],Y,C,request['SkillRating'],Y,C,request['Country']))
            
            elif request.status_code == 401:
                print('[%s401!%s] Falha talvez a chave de autenticação expirou ou está errada?'%(R,C))
                sleep(2)
                print('\n[%s*%s] Reiniciando script!'%(G,C))
                sleep(5)
                menu()

            elif request.status_code == 403:
                print('[%s403!%s] Sua conta foi banida!'%(R,C))
                sleep(5)
                print('\n[%s*%s] Reiniciando script!'%(G,C))
                sleep(10)
                menu()
            
            elif request.status_code == 501:
                print('[%s501!%s] Falhou'%(R,C))
                sleep(3)
                print('\n[%s*%s] Reiniciando script!'%(G,C))
                sleep(5)
                menu()
            
            sleep(delay)

    except Exception:
        print('[%s!%s] OPS! Algo esta errado\n[%s*%s] Reiniciando script!'%(R,C,G,C))
        sleep(5.9)
        menu()
    
        
if __name__ == '__main__':
	global clean
	clean ={'nt':'cls','posix':'clear'}[name]
	menu()

